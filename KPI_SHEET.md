# 고객 상담 코칭 시스템 KPI 시트

## 📊 개요

이 문서는 고객 상담 코칭 시스템의 핵심 성과 지표(KPI)를 정의하고 추적하기 위한 시트입니다.

**프로젝트 목적**: 고객 상담 품질 향상을 위해 대화 내용과 녹화 파일을 AI로 분석하고 개선 사항을 도출하는 시스템

**최종 업데이트**: 2025년 1월

---

## 1. 사용자 활동 지표 (User Engagement)

### 1.1 상담 업로드 활동
| KPI | 설명 | 측정 방법 | 목표값 | 현재값 | 비고 |
|-----|------|----------|--------|--------|------|
| **일일 업로드 수** | 하루에 업로드된 상담 파일 수 | `Consultation.objects.filter(created_at__date=today).count()` | 10건/일 | - | 활성 사용자 증가 추적 |
| **주간 업로드 수** | 일주일간 업로드된 상담 파일 수 | `Consultation.objects.filter(created_at__gte=week_start).count()` | 50건/주 | - | 주간 트렌드 분석 |
| **월간 업로드 수** | 한 달간 업로드된 상담 파일 수 | `Consultation.objects.filter(created_at__month=month).count()` | 200건/월 | - | 장기 트렌드 분석 |
| **파일 타입별 분포** | 텍스트/오디오/비디오 업로드 비율 | `Consultation.objects.values('file_type').annotate(count=Count('id'))` | 텍스트 60%, 오디오 30%, 비디오 10% | - | 사용 패턴 파악 |

### 1.2 사용자 참여도
| KPI | 설명 | 측정 방법 | 목표값 | 현재값 | 비고 |
|-----|------|----------|--------|--------|------|
| **활성 사용자 수 (DAU)** | 하루에 최소 1건 이상 업로드한 사용자 수 | 고유 사용자 ID 기준 집계 | 5명/일 | - | 사용자 식별 기능 필요 |
| **활성 사용자 수 (WAU)** | 주간 활성 사용자 수 | 고유 사용자 ID 기준 집계 | 20명/주 | - | 사용자 식별 기능 필요 |
| **재방문율** | 이전에 업로드한 사용자가 다시 업로드하는 비율 | 사용자 ID 기준 재방문 계산 | 40% | - | 사용자 식별 기능 필요 |
| **평균 세션당 업로드 수** | 한 세션에서 평균적으로 업로드하는 파일 수 | 세션별 업로드 수 집계 | 2건/세션 | - | 사용자 식별 기능 필요 |

---

## 2. 시스템 성능 지표 (System Performance)

### 2.1 처리 성능
| KPI | 설명 | 측정 방법 | 목표값 | 현재값 | 비고 |
|-----|------|----------|--------|--------|------|
| **평균 분석 처리 시간** | 업로드부터 분석 완료까지의 평균 시간 | `(completed_at - created_at).average()` | 텍스트: 30초 이내<br>오디오: 2분 이내<br>비디오: 5분 이내 | - | 파일 타입별 측정 |
| **분석 성공률** | 성공적으로 완료된 분석 비율 | `completed / total * 100` | 95% 이상 | - | 실패율 모니터링 |
| **분석 실패율** | 분석 실패한 비율 | `failed / total * 100` | 5% 이하 | - | 에러 원인 분석 필요 |
| **처리 대기 시간** | 업로드 후 분석 시작까지의 대기 시간 | `(processing_started_at - created_at).average()` | 5초 이내 | - | Celery 큐 대기 시간 |

### 2.2 시스템 가용성
| KPI | 설명 | 측정 방법 | 목표값 | 현재값 | 비고 |
|-----|------|----------|--------|--------|------|
| **API 응답 시간** | API 엔드포인트 평균 응답 시간 | 로그 또는 APM 도구 | 200ms 이내 | - | 사용자 경험 개선 |
| **시스템 가동률** | 시스템이 정상 작동하는 시간 비율 | 모니터링 도구 | 99% 이상 | - | 다운타임 최소화 |
| **에러율** | 전체 요청 대비 에러 발생 비율 | `error_count / total_requests * 100` | 1% 이하 | - | 안정성 확보 |
| **SSE 연결 안정성** | SSE 스트림 연결 성공률 | SSE 연결 성공/실패 비율 | 98% 이상 | - | 실시간 알림 품질 |

### 2.3 리소스 사용량
| KPI | 설명 | 측정 방법 | 목표값 | 현재값 | 비고 |
|-----|------|----------|--------|--------|------|
| **Celery 작업 큐 대기 시간** | Celery 큐에서 대기 중인 작업 수 | Redis 큐 길이 모니터링 | 평균 5개 이하 | - | 워커 수 조정 필요 시 |
| **Redis 메모리 사용량** | Redis 메모리 사용률 | Redis INFO 명령 | 80% 이하 | - | 메모리 관리 |
| **서버 CPU 사용률** | Django 서버 CPU 사용률 | 시스템 모니터링 | 70% 이하 | - | 성능 최적화 |
| **서버 메모리 사용률** | Django 서버 메모리 사용률 | 시스템 모니터링 | 80% 이하 | - | 메모리 관리 |

---

## 3. AI 분석 품질 지표 (AI Analysis Quality)

### 3.1 분석 품질
| KPI | 설명 | 측정 방법 | 목표값 | 현재값 | 비고 |
|-----|------|----------|--------|--------|------|
| **분석 결과 길이** | 평균 분석 결과 텍스트 길이 | `analysis_result.length().average()` | 500-2000자 | - | 적절한 상세도 유지 |
| **분석 항목 커버리지** | 분석 항목(태도, 문제해결, 커뮤니케이션) 포함 비율 | 분석 결과 텍스트 분석 | 80% 이상 | - | 프롬프트 개선 필요 시 |
| **사용자 만족도** | 분석 결과에 대한 사용자 만족도 | 사용자 피드백 수집 | 4.0/5.0 이상 | - | 피드백 기능 필요 |
| **재분석 요청률** | 같은 파일을 다시 분석 요청하는 비율 | 동일 파일 재업로드 비율 | 10% 이하 | - | 분석 품질 지표 |

### 3.2 AI API 사용 효율성
| KPI | 설명 | 측정 방법 | 목표값 | 현재값 | 비고 |
|-----|------|----------|--------|--------|------|
| **Gemini API 호출 성공률** | API 호출 성공 비율 | 성공/실패 로그 분석 | 95% 이상 | - | API 안정성 |
| **API 재시도율** | 할당량 초과로 인한 재시도 비율 | 재시도 로그 분석 | 5% 이하 | - | 할당량 관리 |
| **평균 API 응답 시간** | Gemini API 평균 응답 시간 | API 호출 시간 측정 | 10초 이내 | - | 성능 최적화 |
| **일일 API 호출 수** | 하루 평균 API 호출 횟수 | API 호출 로그 집계 | 할당량 내 | - | 비용 관리 |

---

## 4. 비즈니스 가치 지표 (Business Value)

### 4.1 상담 품질 개선
| KPI | 설명 | 측정 방법 | 목표값 | 현재값 | 비고 |
|-----|------|----------|--------|--------|------|
| **개선 사항 도출률** | 분석 결과에서 개선 사항이 도출된 비율 | 분석 결과 텍스트 분석 | 90% 이상 | - | 분석 유용성 |
| **평균 개선 항목 수** | 분석 결과당 평균 개선 항목 수 | 분석 결과 파싱 | 3-5개 | - | 실용성 확보 |
| **상담 품질 점수 개선** | 시스템 사용 전후 상담 품질 점수 변화 | 사용자 설문 또는 평가 | 20% 향상 | - | 장기 추적 필요 |
| **코칭 효과성** | 분석 결과를 바탕으로 실제 개선된 비율 | 후속 평가 또는 피드백 | 60% 이상 | - | 장기 추적 필요 |

### 4.2 사용자 가치
| KPI | 설명 | 측정 방법 | 목표값 | 현재값 | 비고 |
|-----|------|----------|--------|--------|------|
| **시간 절약** | 수동 분석 대비 시간 절약량 | 사용자 피드백 수집 | 80% 절약 | - | 사용자 설문 필요 |
| **분석 결과 활용률** | 분석 결과를 실제로 활용하는 비율 | 다운로드/공유 활동 추적 | 70% 이상 | - | 기능 추가 필요 |
| **사용자 추천 의향 (NPS)** | 다른 사용자에게 추천할 의향 | 사용자 설문 | 7/10 이상 | - | 만족도 조사 필요 |

---

## 5. 기술적 지표 (Technical Metrics)

### 5.1 데이터 관리
| KPI | 설명 | 측정 방법 | 목표값 | 현재값 | 비고 |
|-----|------|----------|--------|--------|------|
| **데이터베이스 크기** | SQLite 데이터베이스 파일 크기 | 파일 시스템 확인 | 100MB 이하 | - | 데이터 관리 |
| **저장된 파일 수** | 로컬/Supabase에 저장된 파일 수 | 파일 시스템 + Supabase API | - | - | 저장소 관리 |
| **Supabase 업로드 성공률** | Supabase 업로드 성공 비율 | 업로드 로그 분석 | 95% 이상 | - | 클라우드 저장소 안정성 |
| **파일 다운로드 성공률** | 파일 다운로드 성공 비율 | 다운로드 로그 분석 | 98% 이상 | - | 사용자 경험 |

### 5.2 보안 및 안정성
| KPI | 설명 | 측정 방법 | 목표값 | 현재값 | 비고 |
|-----|------|----------|--------|--------|------|
| **보안 취약점 수** | 발견된 보안 취약점 수 | 정기 보안 점검 | 0개 | - | 보안 강화 |
| **데이터 백업 빈도** | 데이터베이스 백업 빈도 | 백업 스크립트 실행 로그 | 일 1회 | - | 데이터 보호 |
| **API 키 노출 사고** | API 키 노출 사고 발생 횟수 | 보안 모니터링 | 0회 | - | 보안 관리 |

---

## 6. 측정 및 모니터링 방법

### 6.1 자동 수집 지표
다음 지표는 시스템 로그와 데이터베이스를 통해 자동으로 수집 가능합니다:
- 업로드 수, 처리 시간, 성공/실패율
- API 응답 시간, 시스템 리소스 사용량
- 데이터베이스 크기, 파일 저장 상태

### 6.2 수동 수집 지표
다음 지표는 추가 기능 개발 또는 정기 조사를 통해 수집해야 합니다:
- 사용자 만족도, NPS
- 상담 품질 개선 효과
- 시간 절약 효과

### 6.3 모니터링 도구 권장사항
- **로깅**: Django 로그 + Celery 로그
- **APM**: Sentry (에러 추적), New Relic 또는 Datadog (성능 모니터링)
- **메트릭 수집**: Prometheus + Grafana (선택사항)
- **사용자 분석**: Google Analytics 또는 Mixpanel (선택사항)

---

## 7. 목표 달성 전략

### 7.1 단기 목표 (1-3개월)
1. 시스템 안정화: 분석 성공률 95% 이상 달성
2. 사용자 확보: 일일 업로드 10건 이상 달성
3. 성능 최적화: 평균 분석 시간 목표치 달성

### 7.2 중기 목표 (3-6개월)
1. 사용자 참여도 향상: 재방문율 40% 이상
2. 분석 품질 개선: 사용자 만족도 4.0/5.0 이상
3. 비즈니스 가치 증명: 상담 품질 개선 효과 측정

### 7.3 장기 목표 (6-12개월)
1. 확장성 확보: 월간 업로드 200건 이상 처리
2. 지속적 개선: 상담 품질 점수 20% 향상
3. 사용자 성장: 활성 사용자 지속적 증가

---

## 8. KPI 추적 템플릿

### 주간 KPI 리포트 템플릿

```
📊 주간 KPI 리포트 (YYYY-MM-DD ~ YYYY-MM-DD)

1. 사용자 활동
   - 주간 업로드 수: XX건 (목표: 50건)
   - 활성 사용자 수: XX명 (목표: 20명)
   - 파일 타입 분포: 텍스트 XX%, 오디오 XX%, 비디오 XX%

2. 시스템 성능
   - 분석 성공률: XX% (목표: 95%)
   - 평균 처리 시간: XX초 (목표: 텍스트 30초)
   - API 응답 시간: XXms (목표: 200ms)

3. AI 분석 품질
   - Gemini API 성공률: XX% (목표: 95%)
   - 평균 분석 결과 길이: XX자
   - API 재시도율: XX% (목표: 5% 이하)

4. 주요 이슈 및 개선 사항
   - [이슈 1]
   - [이슈 2]
   - [개선 사항]

5. 다음 주 계획
   - [계획 1]
   - [계획 2]
```

---

## 9. 참고 사항

### 9.1 데이터 수집을 위한 추가 개발 필요 사항
1. **사용자 식별 기능**: DAU/WAU 측정을 위한 사용자 인증 시스템
2. **피드백 기능**: 사용자 만족도 및 NPS 수집을 위한 피드백 시스템
3. **분석 로깅**: 상세한 분석 로그 수집을 위한 로깅 시스템
4. **대시보드**: KPI 시각화를 위한 관리자 대시보드

### 9.2 정기 리뷰
- **일일**: 시스템 에러 및 성능 모니터링
- **주간**: 주요 KPI 리뷰 및 트렌드 분석
- **월간**: 종합 KPI 리포트 및 목표 달성도 평가
- **분기별**: 전략 조정 및 목표 재설정

---

## 10. 연락처 및 문의

KPI 관련 문의사항이나 개선 제안이 있으시면 프로젝트 관리자에게 연락해주세요.

---

**문서 버전**: 1.0  
**최종 업데이트**: 2025년 1월  
**다음 리뷰 예정일**: 2025년 2월

